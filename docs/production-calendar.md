# Производственный календарь

[Назад к списку компонентов](../README.md)

## Назначение

Компонент для обогащения временного ряда данными из производственного календаря (период не больше года). Если временной ряд не подан на вход, то компонент возвращает производственный на текущий год (по умолчанию).

Ссылка на сервис: https://production-calendar.ru

## Входные порты

| Название          | Тип        |
|:------------------|:-----------|
| Набор данных      | Таблица    |
| Переменные        | Переменные |

Таблица **Набор данных** — является необязательным портом.

### Структура таблицы "Набор данных"

| Метка        | Тип                                | Описание      |
|:-------------|:-----------------------------------|:--------------|
| Дата         | ![](./img/datetime.svg) Дата/Время | Временной ряд |

### Переменные в порте "Переменные"

| № | Метка              | Тип                                    | Значение    |
|:--|:-------------------|:---------------------------------------|:------------|
| 1 | API-ключ           | ![](./img/string.svg) Строковый        | null        |
| 2 | Страна             | ![](./img/string.svg) Строковый        | ru          |
| 3 | Временной интервал | ![](./img/string.svg) Строковый        | 2024        |

1. **API-ключ** — личный ключ для доступа к сервису;

2. **Страна** — поддерживаемые значения:
   * **ru** — Российская Федерация;
   * **kz** — Казахстан.
3. **Временной интервал** — поддерживаемые форматы временного интервала:

| Интервал                            | Шаблон                                                                 | Пример                                                               |
|:------------------------------------|:-----------------------------------------------------------------------|:---------------------------------------------------------------------|		
| Год                                 |	ГГГГ                                                                   |	2024                                                              |
| Квартал                             |	QNГГГГ                                                                 |	Q12024                                                            |
| Месяц                               |	ММГГГГ / ММ.ГГГГ / ММ-ГГГГ                                             |	012024 / 01.2024 / 12-2024                                        |
| Сутки                               |	ДДММГГГГ / ДД.ММ.ГГГГ / ДД-ММ-ГГГГ                                     |	12122024 / 01.05.2024 / 05-10-2024                                |
| Произвольный период (не более года) |	ДДММГГГГ-ДДММГГГГ / ДД.ММ.ГГГГ-ДД.ММ.ГГГГ / ДД-ММ-ГГГГ- ДД-ММ-ГГГГ     |	12122024-18122024 / 01.05.2024-04.06.2024 / 05-10-2024-31-10-2024 |

## Выходные порты

| Название              | Тип        |
|:----------------------|:-----------|
| Сутки                 | Таблица    |
| Глобальные переменные | Переменные |
| Статистика            | Переменные |
| Сообщения             | Таблица    |

### Структура таблицы "Сутки"

| Метка                | Тип                                | Описание                                                                 |
|:---------------------|:-----------------------------------|:-------------------------------------------------------------------------|
| Дата                 | ![](./img/datetime.svg) Дата/Время | Временной ряд                                                            |
| Тип                  | ![](./img/string.svg) Строковый    | Тип суток (строка)                                                       |
| Тип (Идентификатор)  | ![](./img/string.svg) Строковый    | Тип суток (число)                                                        |
| День недели          | ![](./img/string.svg) Строковый    | Сокращенное наименование дня недели                                      |
| Рабочих часов        | ![](./img/integer.svg) Целый       | Количество рабочих часов в данных сутках для 40-й часовой рабочей недели |

### Переменные в порте "Глобальные переменные"

| № | Метка              | Тип                                | Значение                     |
|:--|:-------------------|:-----------------------------------|:-----------------------------|
| 1 | Код страны         | ![](./img/string.svg) Строковый    | ru                           |
| 2 | Страна             | ![](./img/string.svg) Строковый    | Российская Федерация         |
| 3 | Тип рабочей недели | ![](./img/string.svg) Строковый    | 5-и дневная рабочая неделя   |
| 4 | Период             | ![](./img/string.svg) Строковый    | год                          |
| 5 | Начало периода     | ![](./img/string.svg) Строковый    | 01.01.2024                   |
| 4 | Конец периода      | ![](./img/string.svg) Строковый    | 31.12.2024                   |

### Переменные в порте "Статистика".

| № | Метка                            | Тип                                | Значение|
|:--|:---------------------------------|:-----------------------------------|:--------|
| 1 | Выходных без праздничных         | ![](./img/string.svg) Строковый    | 104     |
| 2 | Календарных дней                 | ![](./img/string.svg) Строковый    | 366     |
| 3 | Календарных дней без праздничных | ![](./img/string.svg) Строковый    | 352     |
| 4 | Праздничные дни                  | ![](./img/string.svg) Строковый    | 14      |
| 5 | Рабочих часов                    | ![](./img/string.svg) Строковый    | 1979    |
| 6 | Рабочих часов                    | ![](./img/string.svg) Строковый    | 248     |

### Структура таблицы "Сообщения"

| Метка                      | Тип                                | Описание                          |
|:---------------------------|:-----------------------------------|:----------------------------------|
| Идентификатор              | ![](./img/integer.svg) Целый       | Номер строки                      |
| Код завершения             | ![](./img/integer.svg) Целый       | В случае успеха возвращает **0**  |
| Описание ошибки            | ![](./img/string.svg) Сообщение    | В случае успеха возвращает **OK** |
| Код состояния HTTP         | ![](./img/integer.svg) Целый       | В случае усеха возвращает **200** |