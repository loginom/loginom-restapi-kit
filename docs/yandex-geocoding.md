# Геокодер Яндекс

[Назад к списку компонентов](../README.md)

## Назначение

Компонент преобразует географические координаты в адрес и округ.

Ссылка на сервис: https://yandex.ru/maps-api/products/geocoder-api

## Входные порты

| Название          | Тип        |
|:------------------|:-----------|
| Координаты        | Таблица    |
| Переменные        | Переменные |

### Структура таблицы "Координаты"

| Метка        | Тип                                    | Описание                |
|:-------------|:---------------------------------------|:------------------------|
| Широта       | ![](./img/realnumber.svg) Вещественный | Широта указанной точки  |
| Долгота      | ![](./img/realnumber.svg) Вещественный | Долгота указанной точки |

### Переменные в порте "Переменные"

| № | Метка                                  | Тип                                    | Значение    |
|:--|:---------------------------------------|:---------------------------------------|:------------|
| 1 | API-ключ                               | ![](./img/string.svg) Строковый        | null        |
| 2 | Язык ответа и региональные особенности | ![](./img/string.svg) Строковый        | ru_RU       |
| 3 | Тайм-аут подключения (мс)              | ![](./img/integer.svg) Целый           | 60000       |
| 4 | Тайм-аут обмена данными (мс)           | ![](./img/integer.svg) Целый           | 60000       |
| 5 | Игнорировать ошибки SSL сертификата    | ![](./img/integer.svg) Целый           | false       |

1. **API-ключ** — личный ключ для доступа к сервису;
2. **Язык ответа и региональные особенности** — формат записи **language_region**, где: **language** — двузначный код языка. Указывается в формате ISO 639-1. Задает язык, на котором будут отображаться названия географических объектов; **region** — двузначный код страны. Указывается в формате ISO 3166-1. Определяет региональные особенности. Список поддерживаемых значений:
   * **ru_RU** — русский;
   * **uk_UA** — украинский;
   * **be_BY** — белорусский;
   * **en_RU** — ответ на английском, российские особенности карты;
   * **en_US** — ответ на английском, американские особенности карты;
   * **tr_TR** — турецкий (только для карты Турции).
3. **Тайм-аут подключения (мс)** — максимальное время установки TCP-соединения с сервером в миллисекундах, по истечении которого соединение будет прервано со статусом ошибки. Если параметр равен нулю, то таймаут не ограничен.          
4. **Тайм-аут обмена данными (мс)** — максимальное время, которое будет затрачено на отправку HTTP-запроса и получение ответа, по истечении которого обмен будет прерван со статусом ошибки. Если параметр равен нулю, то таймаут не ограничен.
5. **Игнорировать ошибки SSL сертификата** — если данный флаг установлен, то ошибки при проверке сертификата сервера, к которому производится подключение, игнорируются.

## Выходные порты

| Название              | Тип     |
|:----------------------|:--------|
| Выходной набор данных | Таблица |
| Сообщения             | Таблица |

### Структура таблицы "Выходной набор данных"

| Метка           | Тип                                     | Описание                |
|:----------------|:----------------------------------------|:------------------------|
| Идентификатор   | ![](./img/integer.svg) Целый            | Номер строки            |
| Широта          | ![](./img/realnumber.svg) Вещественный  | Широта указанной точки  |
| Долгота         | ![](./img/realnumber.svg) Вещественный  | Долгота указанной точки |
| Адрес           | ![](./img/string.svg) Строковый         | Адрес указанной точки   |
| Округ           | ![](./img/string.svg) Строковый         | Округ указанной точки   |

### Структура таблицы "Сообщения"

| Метка                      | Тип                                | Описание                          |
|:---------------------------|:-----------------------------------|:----------------------------------|
| Идентификатор              | ![](./img/integer.svg) Целый       | Номер строки                      |
| Код завершения             | ![](./img/integer.svg) Целый       | В случае успеха возвращает **0**  |
| Описание ошибки            | ![](./img/string.svg) Сообщение    | В случае успеха возвращает **OK** |
| Код состояния HTTP         | ![](./img/integer.svg) Целый       | В случае усеха возвращает **200** |
